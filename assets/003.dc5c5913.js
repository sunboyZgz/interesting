import{d as C,i as F,j as S,c as W,o as j}from"./index.0b863bf9.js";const L=C({__name:"003",setup(D){const c=F();let e,h,u;const g=()=>{};function q(){e=c.value.getContext("2d"),e.lineWidth=1,h=c.value.width,u=c.value.width}function d(t){return Math.sin(I(t))}function P(t){return Math.cos(I(t))}function I(t){return Math.PI/180*t}function A(t,o){const n=o.x-t.x,s=o.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(s,2))}const r=[],l=[];let a=0;function i(t,o){return Math.random()*(o-t)+t}function _(t,o,n,s){const f=A(t,o)*(1-.05*a),b=n.last-n.degree*i(.3,.8),m=n.last+n.degree*i(.3,.8),w={x:o.x+d(b)*f,y:o.y-P(b)*f},M={x:o.x+d(m)*f,y:o.y-P(m)*f};s>0&&((Math.random()<.5||a<4)&&r.push([Math.random()<.8&&a>3?()=>{T(i(3,3.5),w)}:g,()=>{y(o,w),_(o,w,{last:b,degree:n.degree},s-1)}]),(Math.random()<.5||a<4)&&r.push([Math.random()<.8&&a>3?()=>{T(i(3,3.5),M)}:g,()=>{y(o,M),_(o,M,{last:m,degree:n.degree},s-1)}]))}function y(t,o){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(o.x,o.y),e.stroke(),e.closePath()}let x=0;function H(){a+=1;const t=r.map(o=>o[1]);l.push(r.map(o=>o[0])),r.length=0,t.forEach(o=>o())}let p=0;function k(t){return t==Math.floor(t)}function v(){requestAnimationFrame(()=>{p+=1;const t=p/3;p%3===0&&k(t)&&l[t].forEach(o=>o()),k(t)&&l[t]&&l[t].length===0||v()})}function E(){requestAnimationFrame(()=>{x+=1,x%3==0&&H(),x<60*2?E():(console.log(l),v())})}function B(t,o,n){y(t,o),E(),_(t,o,n,8)}function T(t,o){e.beginPath(),e.fillStyle="#ffa0cc",e.arc(o.x,o.y+t*1.5,t*1.5,0,2*Math.PI),e.arc(o.x,o.y-t*1.5,t*1.5,0,2*Math.PI),e.arc(o.x+t*1.5,o.y,t*1.5,0,2*Math.PI),e.arc(o.x-t*1.5,o.y,t*1.5,0,2*Math.PI),e.arc(o.x,o.y,t*1.5,0,2*Math.PI),e.fill(),e.closePath(),e.beginPath(),e.fillStyle="#e9fd72",e.arc(o.x,o.y,t,0,2*Math.PI),e.fill(),e.closePath()}return S(()=>{q();const t={x:h/2,y:u},o={x:h/2,y:u-80};B(t,o,{last:0,degree:20})}),(t,o)=>(j(),W("canvas",{ref_key:"canvas",ref:c,width:"600",height:"600",style:{border:"1px black solid"}},null,512))}});export{L as default};
