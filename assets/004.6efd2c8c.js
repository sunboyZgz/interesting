import{d as C,i as q,j as B,c as E,o as H}from"./index.0b863bf9.js";const A=C({__name:"004",setup(O){function m(e,n){n.clientHeight<e.size[1]&&(n.style.height=e.size[1]+"px"),n.clientWidth<e.size[0]&&(n.style.width=e.size[0]+"px");const t=document.createElement("canvas");return t.width=e.size[0],t.height=e.size[1],t.style.margin="auto",n.appendChild(t),t}function k(e){const t=Object.keys(e.data).length;return t<3&&console.error("[err] the number of edges must be more than 3"),{size:e.size,edge:t,data:e.data,ctx:void 0,radius:0}}function c(e,n){let t=0;for(;t<n.length;){let s=(t+1)%n.length;e.beginPath(),h(e,n[t],n[s]),e.strokeStyle="#ff000094",e.stroke(),e.closePath(),t++}}function _(e,n){let t=0;for(;t<n.length;)e.beginPath(),e.font="20px Microsoft YaHei",e.strokeText(n[t][0],n[t][1][0],n[t][1][1]),e.stroke(),e.closePath(),t++}function y(e,n){let t=0,s=setInterval(()=>{if(e.beginPath(),t<n.length){let a=(t+1)%n.length;h(e,n[t],n[a]),e.strokeStyle="blue",e.stroke(),t++}else clearInterval(s)},300)}function d(e,n){return[e[0]*n,e[1]*n]}function l(e,n){return e.map(t=>d(t,n))}function z(e,n){return e.map((t,s)=>d(t,n[s]))}function b(e){const n=2/e.edge*Math.PI,t=new Array(e.edge);for(let s=0;s<e.edge;s++){let a=n*(s+1)-.5*Math.PI-n,r=[0,0];r[0]=e.radius*Math.cos(a),r[1]=e.radius*Math.sin(a),t[s]=r}return t}function h(e,n,t){e.moveTo(n[0],n[1]),e.lineTo(t[0],t[1])}function w(e,n){const t=k(e),s=m(t,n),a=t.ctx=s.getContext("2d"),r=t.size[0],g=t.size[1];t.radius=Math.min(r,g)/2,a.translate(r/2,g/2);const o=b(t);c(a,o);const v=l(o,1/5),x=l(o,2/5),M=l(o,3/5),P=l(o,4/5);c(a,v),c(a,x),c(a,M),c(a,P);const p=Object.keys(t.data).map(i=>{const u=t.data[i];return[i,u[0]/u[1]]}),I=p.map((i,u)=>[i[0],d(o[u],11/12)]);_(a,I);const T=p.map(i=>i[1]),j=z(o,T);return y(a,j),t}const f=q();return B(()=>{w({size:[600,600],data:{age:[3.4,5],popular:[2.6,5],qq:[4,5],xx:[4.8,5],nn:[3.9,5],ax:[4.8,5],cx:[4.8,5]}},f.value)}),(e,n)=>(H(),E("div",{ref_key:"container",ref:f,class:"w-[600px] h-[400px]",style:{border:"1px black solid"}},null,512))}});export{A as default};
